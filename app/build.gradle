apply plugin: 'com.android.application'
apply plugin: 'org.jetbrains.kotlin.android'

apply from: "$rootDir/config/detekt/detekt.gradle"

android {
    namespace VersionsBuild.namespace
    compileSdk VersionsBuild.compileSdk

    defaultConfig {
        applicationId VersionsBuild.applicationId
        minSdk VersionsBuild.minSdk
        targetSdk VersionsBuild.targetSdk
        versionCode VersionsBuild.versionCode
        versionName VersionsBuild.versionName

        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
        vectorDrawables {
            useSupportLibrary true
        }
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
    compileOptions {
        sourceCompatibility VersionsBuild.javaVersion
        targetCompatibility VersionsBuild.javaVersion
    }
    kotlinOptions {
        jvmTarget = VersionsBuild.javaVersion
    }
    buildFeatures {
        compose true
    }
    composeOptions {
        kotlinCompilerExtensionVersion '1.1.1'
    }
    packagingOptions {
        resources {
            excludes += '/META-INF/{AL2.0,LGPL2.1}'
        }
    }
}

dependencies {
    implementation project(AppModules.coreModule)

    implementation AppDependencies.core
    implementation AppDependencies.lifecycle
    implementation AppDependencies.composeActivity
    implementation AppDependencies.gson

    //Compose
    implementation AppDependencies.materialGoogle
    implementation AppDependencies.composeUi
    implementation AppDependencies.composeMaterial3
    implementation AppDependencies.composeUiTooling
    implementation AppDependencies.systemUiController

    //Test
    testImplementation TestDependencies.junit
    androidTestImplementation TestDependencies.extJunit
    androidTestImplementation TestDependencies.espresso

    androidTestImplementation TestDependencies.composeJunit4
    debugImplementation TestDependencies.composeTooling
    debugImplementation TestDependencies.composeManifest
}